<!-- 
VS Code Code Counter Extension - WebView Template

Copyright (c) 2025 DelightfulGames
Licensed under the MIT License

Repository: https://github.com/DelightfulGames/vscode-code-counter
Marketplace: https://marketplace.visualstudio.com/items?itemName=DelightfulGames.vscode-code-counter
-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Code Counter Report</title>
    
    <!-- Tabulator CSS (minified version for webview) -->
    <link href="https://unpkg.com/tabulator-tables@6.2.1/dist/css/tabulator_simple.min.css" rel="stylesheet">
    
    <!-- Injected CSS will be inserted here -->
    {{INJECTED_CSS}}
</head>
<body>
    <div class="container">
        <div class="header">
            <div>
                <h1>ğŸ“Š Code Counter Report</h1>
                <div class="header-info">
                    <p>Generated on {{GENERATED_DATE}}</p>
                    <p>Workspace: {{WORKSPACE_PATH}}</p>
                </div>
            </div>
            <div class="actions">
                <button class="btn" id="refresh-btn2" title="Refresh Data">ğŸ”„ Refresh</button>
                <button class="btn" id="export-csv-btn" title="Export to CSV">ğŸ“Š Export CSV</button>
                <button class="btn" id="export-btn" title="Export to HTML">ğŸ“„ Export HTML</button>
            </div>
        </div>

        <div id="loading-indicator" class="loading hidden">
            <div class="spinner"></div>
            Loading report data...
        </div>

        <div id="error-message" class="error hidden">
            <strong>Error:</strong> <span id="error-text"></span>
        </div>

        <div id="report-content">
            <div class="summary-section">
                <h2 class="section-title">ğŸ“ˆ Summary Statistics</h2>
                <div id="summary-stats" class="stats-grid">
                    <!-- Summary stats will be populated by JavaScript -->
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">ğŸ’» Languages</h2>
                <div id="language-stats" class="language-stats">
                    <!-- Language stats will be populated by JavaScript -->
                </div>
            </div>
            <div class="actions">
                <button class="btn" id="refresh-btn" title="Refresh Data">ğŸ”„ Refresh</button>
                <button class="btn" id="group-language-btn" title="Group by Language">ğŸ“‚ Group by Language</button>
                <button class="btn" id="group-directory-btn" title="Group by Directory">ğŸ“ Group by Directory</button>
                <button class="btn" id="clear-group-btn" title="Clear Grouping">ğŸ“‹ Clear Groups</button>
                <button class="btn" id="export-csv-btn" title="Export to CSV">ğŸ“Š Export CSV</button>
                <button class="btn" id="export-btn" title="Export to HTML">ğŸ“„ Export HTML</button>
            </div>
            <div class="section">
                <h2 class="section-title">ğŸ“ Files</h2>
                
                <!-- Quick Filter Buttons -->
                <div class="quick-filters">
                    <button class="quick-filter-btn" data-filter="all">ğŸ” All Files</button>
                    <button class="quick-filter-btn" data-filter="large">ğŸ“ˆ Large Files (>500 lines)</button>
                    <button class="quick-filter-btn" data-filter="small">ğŸ“‰ Small Files (<50 lines)</button>
                    <button class="quick-filter-btn" data-filter="no-comments">ğŸ’¬ No Comments</button>
                    <button class="quick-filter-btn" data-filter="comment-heavy">ğŸ“ Comment Heavy (>20%)</button>
                </div>

                <!-- Advanced Filter Controls -->
                <div class="filter-controls">
                    <div class=""filter-control-row">
                        <div class="filter-group">
                            <label class="filter-label">ğŸ” File Name</label>
                            <input type="text" class="search-input" id="file-search-tabulator" placeholder="Search files..." />
                        </div>
                        
                        <div class="filter-group">
                            <label class="filter-label">ğŸ’» Language</label>
                            <select class="search-input" id="language-filter-tabulator">
                                <option value="">All Languages</option>
                            </select>
                        </div>                       
                    </div>
                    <div class="filter-control-row">
                        <div class="filter-group">
                            <label class="filter-label">ğŸ“Š Lines Range</label>
                            <div class="range-filter">
                                <div><input type="number" id="lines-min" placeholder="Min" class="search-input" style="width: 40px;"></div>
                                <div>to</div>
                                <div><input type="number" id="lines-max" placeholder="Max" class="search-input" style="width: 40px;"></div>
                            </div>
                        </div>
                        
                        <div class="filter-group">
                            <label class="filter-label">ğŸ—„ï¸ File Size</label>
                            <div class="range-filter">
                                <div><input type="number" id="size-min" placeholder="Min KB" class="search-input" style="width: 40px;"></div>
                                <div>to</div>
                                <div><input type="number" id="size-max" placeholder="Max KB" class="search-input" style="width: 40px;"></div>
                            </div>
                        </div>
                    </div>
                    <div class="filter-group">
                        <label class="filter-label">ğŸ”„ Actions</label>
                        <button class="btn" id="clear-all-filters-btn" title="Clear all search filters">Clear Filters</button>
                    </div>                    
                </div>

                <!-- Advanced Tabulator Table -->
                <div class="table-container">
                    <div id="files-table-tabulator"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Tabulator JavaScript (minified version for webview) -->
    <script type="text/javascript" src="https://unpkg.com/tabulator-tables@6.2.1/dist/js/tabulator.min.js"></script>

    <!-- Injected JavaScript will be inserted here -->
    {{INJECTED_JS}}
</body>
</html>